<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TEST-DOG C++ Unit Testing Framework</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li class="current"><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>TEST-DOG C++ Unit Testing Framework </h1><h3 class="version">Version 1.3 </h3><h2><a class="anchor" id="tdog_contents">
CONTENTS</a></h2>
<ul>
<li><a class="el" href="index.html#tdog_intro">INTRODUCTION</a></li>
<li><a class="el" href="index.html#tdog_license">Copyright &amp; License</a></li>
</ul>
<ul>
<li><a class="el" href="index.html#tdog_getting_started">GETTING STARTED</a></li>
<li><a class="el" href="index.html#tdog_build">Building &amp; Linking TEST-DOG</a></li>
<li><a class="el" href="index.html#tdog_example">A Simple Example</a></li>
</ul>
<ul>
<li><a class="el" href="index.html#tdog_main">MAIN FEATURES</a> MAIN FEATURES</li>
<li><a class="el" href="index.html#tdog_reports">Report Generation</a> Report Generation</li>
<li><a class="el" href="index.html#tdog_test_case">Declaring Test Cases</a> Declaring Test Cases</li>
<li><a class="el" href="index.html#tdog_assertions">Test Case Assertions</a> Test Case Assertions</li>
<li><a class="el" href="index.html#tdog_fixtures">Test Fixture</a> Test Fixture</li>
<li><a class="el" href="index.html#tdog_suites">Test Suites</a> Test Suites</li>
</ul>
<ul>
<li><a class="el" href="index.html#tdog_info">FURTHER INFORMATION</a> FURTHER INFORMATION</li>
<li><a class="el" href="index.html#tdog_project_info">Associating Project Information</a> Associating Project Information</li>
<li><a class="el" href="index.html#tdog_test_states">Test States</a> Test States</li>
<li><a class="el" href="index.html#Generating">Additional Reports</a> Additional Reports</li>
<li><a class="el" href="index.html#tdog_manual_reg">Manual Test Registration</a> Manual Test Registration</li>
</ul>
<h3><a class="anchor" id="tdog_ref">
Reference Pages</a></h3>
<ul>
<li><a class="el" href="macros_8hpp.html">Test Macros</a></li>
<li><a class="el" href="classtestdog_1_1runner.html">Test Runner Class</a></li>
</ul>
<p><br/>
 </p>
<h2><a class="anchor" id="tdog_intro">
INTRODUCTION</a></h2>
<p>TEST-DOG is a lightweight, portable and open source C++ Unit Testing Framework.</p>
<p>It features:</p>
<ul>
<li>Test Cases, Suites &amp; Fixtures</li>
<li>Report Generators (Text, XML and HTML)</li>
<li>Macros for Easy Test Creation</li>
<li>Time Limits</li>
<li>Exceptions</li>
<li>Test Runner</li>
<li>Automated, or Manual, Test Registration</li>
<li>Cross Platform &amp; Lightweight with few Dependencies</li>
<li>Supports MinGW, MSVC &amp; Linux</li>
<li>Open Source</li>
<li>Fully Documented</li>
</ul>
<p>The TEST-DOG Framework comprises a series of test declaration and assertion macros, as well as a singleton based test runner class.</p>
<h3><a class="anchor" id="tdog_license">
Copyright &amp; License</a></h3>
<p>Copyright (C) Andy Thomas 2011</p>
<p>TEST-DOG is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. TEST-DOG is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details. You should have received a copy of the GNU General Public License along with TEST-DOG. If not, see &lt;<a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;.</p>
<h3><a class="anchor" id="tdog_web">
Website</a></h3>
<p>On the web: <a href="http://www.BigAngryDog.com/testdog/unit_testing.xhtml">http://www.BigAngryDog.com/testdog/unit_testing.xhtml</a></p>
<p><br/>
 </p>
<h2><a class="anchor" id="tdog_getting_started">
GETTING STARTED</a></h2>
<h3><a class="anchor" id="tdog_build">
Building &amp; Linking TEST-DOG</a></h3>
<p>The TEST-DOG Framework comprises a static library file and related header files. Makefiles are provided which will build both a static library and a self-test binary for the framework. See the README notes in the install directory for more information.</p>
<p>To link your project against TEST-DOG:</p>
<ul>
<li>1. Link against: "lib/libtestdog.a" (or testdog.lib with MSVC)</li>
<li>2. Include the "inc/" (but not "inc/testdog/") subdirectory in your include path.</li>
<li>3. Use: "#include &lt;testdog/unit_test.hpp&gt;" in your source files.</li>
</ul>
<h3><a class="anchor" id="tdog_example">
A Simple Example</a></h3>
<p>Below is an example of a simple test and main function:</p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;<a class="code" href="unit__test_8hpp.html" title="This file is a facade header file for the TEST-DOG Unit Testing Framework. Including...">testdog/unit_test.hpp</a>&gt;</span>

 <span class="comment">// Declare a test case to check whether a custom function</span>
 <span class="comment">// called &quot;is_prime()&quot; returns the correct results.</span>
 <a class="code" href="macros_8hpp.html#afd6b256b805eab47d1031b32290cfd62" title="Creates a test case and registers it with a global instance of of the TEST-DOG test...">TDOG_TEST_CASE</a>(is_prime_func)
 {
   <a class="code" href="macros_8hpp.html#a18d4244359d30893a9af0e55706d64ed" title="Asserts that the test condition &amp;quot;a&amp;quot; is true (the test fails if it is not)...">TDOG_ASSERT</a>( is_prime(47) );
   <a class="code" href="macros_8hpp.html#a18d4244359d30893a9af0e55706d64ed" title="Asserts that the test condition &amp;quot;a&amp;quot; is true (the test fails if it is not)...">TDOG_ASSERT</a>( !is_prime(8) );
   <a class="code" href="macros_8hpp.html#a18d4244359d30893a9af0e55706d64ed" title="Asserts that the test condition &amp;quot;a&amp;quot; is true (the test fails if it is not)...">TDOG_ASSERT</a>( !is_prime(21) );
 }

 <span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)
 {
   <span class="comment">// Set default STDOUT report</span>
   <span class="keywordflow">return</span> testdog:::runner::global().run();
 }
</pre></div><p>In this example, we have [presumably] written a function called is_prime() which we want to test. We include all the required TEST-DOG functionality by simply including the header file "testdog/unit_test.hpp".</p>
<p>We then declare a simple test case to exercise our function with the help of the <a class="el" href="macros_8hpp.html#afd6b256b805eab47d1031b32290cfd62" title="Creates a test case and registers it with a global instance of of the TEST-DOG test...">TDOG_TEST_CASE()</a> macro. The test will auto-register with a global instance of a class called <a class="el" href="classtestdog_1_1runner.html" title="The runner class is used to run test cases and collate result information.">testdog::runner</a>. Note that runner and its related data types are namespaced under "testdog".</p>
<p>Finally, we run the tests by calling run() on the global instance of runner. The return value from run() is always the number of tests which fail, zero if all tests succeed, or -1 if no testing was performed.</p>
<p>Additionally, the above code will generate a text trace which will be written to STDOUT, and will look like:</p>
<div class="fragment"><pre class="fragment"> -----------------------------------------------------------------
 Registered Tests: 13
 Run Scope: All Tests
 Start Time: 2010-04-16 19:20:15
 -----------------------------------------------------------------

 is_prime_func : TEST PASSED

 -----------------------------------------------------------------
 STATISTICAL RESULTS
 -----------------------------------------------------------------
 TESTS RAN: 1
 SKIPPED: 0
 PASSED: 1
 FAILED: 0
 TEST ERRORS: 0
 PASS RATE: 100%
 -----------------------------------------------------------------
 END TIME: 2010-04-16 19:20:15
 RUN DURATION: 0 sec (approx.)
 -----------------------------------------------------------------
</pre></div><p><br/>
 </p>
<h2><a class="anchor" id="tdog_main">
MAIN FEATURES</a></h2>
<h3><a class="anchor" id="tdog_reports">
Report Generation</a></h3>
<p>We can control the reporting style by calling the <a class="el" href="classtestdog_1_1runner.html#a92b452105b1cc264e03eea818ddf958b" title="Set the report style written to STDOUT during the test run.">runner::set_report_style()</a> method prior to run(). A report is generated to STDOUT when one or more tests are run. The following report styles are available:</p>
<ul>
<li>RS_NONE - None (no report is generated).</li>
<li>RS_TEXT_STD - Human readable test report.</li>
<li>RS_TEXT_VERBOSE - Human readable test report (verbose).</li>
<li>RS_XML - XML test report (verbose).</li>
<li>RS_HTML_STD - HTML test report.</li>
<li>RS_HTML_VERBOSE - HTML test report (verbose).</li>
<li>RS_HTML_SUMMARY - HTML test report (summary only).</li>
</ul>
<p>The default value is RS_TEXT_STD.</p>
<p>Additionally, further reports can be written to a std stream after any test run with the <a class="el" href="classtestdog_1_1runner.html#a4ad503fd2a78df4b89f8bd0cc86b2633" title="Generates a test report pertaining to the last test run and writes it to the supplied...">runner::generate_report()</a> method.</p>
<h3><a class="anchor" id="tdog_test_case">
Declaring Test Cases</a></h3>
<p>Test cases are declared using the <a class="el" href="macros_8hpp.html#afd6b256b805eab47d1031b32290cfd62" title="Creates a test case and registers it with a global instance of of the TEST-DOG test...">TDOG_TEST_CASE()</a> macro, as follows:</p>
<div class="fragment"><pre class="fragment"> <a class="code" href="macros_8hpp.html#afd6b256b805eab47d1031b32290cfd62" title="Creates a test case and registers it with a global instance of of the TEST-DOG test...">TDOG_TEST_CASE</a>(test_name)
 {
   <span class="comment">// Test code</span>
   ...
 }
</pre></div><p>The test code should not return any result.</p>
<p>The test name should not contain spaces, as it will be used internally to form the basis of a C++ data type.</p>
<p>Tests are normally executed in the runner in the order that they are declared. However, tests can also be executed individually, as follows:</p>
<div class="fragment"><pre class="fragment"> <a class="code" href="classtestdog_1_1runner.html#a762a131e95e5cc4b0286e8f1d694c764" title="Singleton access.">testdog::runner::global</a>().<a class="code" href="classtestdog_1_1runner.html#a478af5df16e3f1653b0ba7197a99c201" title="Run all tests, or just those specified.">run</a>(<a class="code" href="namespacetestdog.html#a1b3bbfd744d9588d962e66a81b437850a0580519de5ddb868cdd44d4d907b58e1" title="Run only the specified test case.">RUN_TEST</a>, <span class="stringliteral">&quot;test_name&quot;</span>);
</pre></div><p>It is also possible to disable the automatic registration of test cases, in which case, tests must be registered explicitly with the runner. See below for further information on this.</p>
<h3><a class="anchor" id="tdog_assertions">
Test Case Assertions</a></h3>
<p>Within any test case implementation, one of more assertions should be defined using one of the TEST-DOG assert macros.</p>
<p>For example:</p>
<div class="fragment"><pre class="fragment"> <a class="code" href="macros_8hpp.html#afd6b256b805eab47d1031b32290cfd62" title="Creates a test case and registers it with a global instance of of the TEST-DOG test...">TDOG_TEST_CASE</a>(simple_test)
 {
   <a class="code" href="macros_8hpp.html#a18d4244359d30893a9af0e55706d64ed" title="Asserts that the test condition &amp;quot;a&amp;quot; is true (the test fails if it is not)...">TDOG_ASSERT</a>(<span class="keyword">true</span>); <span class="comment">// Passes</span>
 }
</pre></div><p>The assert macros checks that the condition is true, and record a failure condition in the report if it is not. A test case is deemed to have passed if all its assert conditions are true, but failed if one or more assertions fail.</p>
<p>When an assert condition fails, a failure message will be displayed in the test report output, along with location information such as filename and line number. If the reporting style is "verbose", test passes and informational messages will also be displayed in the report.</p>
<p>If the test code throws an unhandled exception, the test case will be placed into an <em>error state</em>. In this case, the test has essentially failed, but the state is considered distinct as it allows for possible test implementation errors to be easily distinguished.</p>
<p>TEST-DOG assert macros include:</p>
<ul>
<li><a class="el" href="macros_8hpp.html#a18d4244359d30893a9af0e55706d64ed" title="Asserts that the test condition &quot;a&quot; is true (the test fails if it is not)...">TDOG_ASSERT()</a></li>
<li><a class="el" href="macros_8hpp.html#a76528911b36b3dcfe56cc544354cc342" title="Asserts that &quot;a&quot; equals &quot;b&quot; (the test fails if they are not)...">TDOG_ASSERT_EQUAL()</a></li>
<li><a class="el" href="macros_8hpp.html#aae4589a299eb01bdc63f0ba69f62bd40" title="Asserts that strings &quot;a&quot; and &quot;b&quot; are equal (the test fails if...">TDOG_ASSERT_STR_EQUAL()</a></li>
<li><a class="el" href="macros_8hpp.html#ab6570547e07e740376f0e427721cfbea" title="Compares strings &quot;a&quot; and &quot;b&quot; case insensitively and asserts that...">TDOG_ASSERT_STRIC_EQUAL()</a></li>
<li><a class="el" href="macros_8hpp.html#ab356770780ecb609c5c218d2ba75e0d5" title="Asserts that floating point (double) values &quot;a&quot; and &quot;b&quot; are equal...">TDOG_ASSERT_DOUBLE_EQUAL()</a></li>
<li><a class="el" href="macros_8hpp.html#ac44fb86ff6e67cd60f8459af38040016" title="Asserts that the content of arrays &quot;a&quot; and &quot;b&quot; are equal (the...">TDOG_ASSERT_ARRAY_EQUAL()</a></li>
<li><a class="el" href="macros_8hpp.html#a63c9783f134c160b1f683f9455b071eb" title="Asserts that the expression throws an exception of the specified type.">TDOG_ASSERT_THROW()</a></li>
<li><a class="el" href="macros_8hpp.html#a527ce0463067d149832fcd9474fa0332" title="Asserts that the expression does not throw an exception.">TDOG_ASSERT_NO_THROW()</a></li>
</ul>
<p>Additionally, it is possible to output an informational messsage using the <a class="el" href="macros_8hpp.html#a79440fca4e0905192d5f6ad441e287a7" title="Writes a information message string to the test report.">TDOG_TEST_MSG()</a> macro. This will normally only appear in verbose report outputs however.</p>
<h3><a class="anchor" id="tdog_fixtures">
Test Fixture</a></h3>
<p>A test fixture can be declared using the <a class="el" href="macros_8hpp.html#ae7e92c7720beab5175671547f82cf95e" title="Creates a test with custom data and setup/teardown functionality.">TDOG_TEST_FIXTURE()</a>, and allows a test to use custom data and setup/teardown functionality.</p>
<p>This macro is similar to <a class="el" href="macros_8hpp.html#afd6b256b805eab47d1031b32290cfd62" title="Creates a test case and registers it with a global instance of of the TEST-DOG test...">TDOG_TEST_CASE()</a>, except that it requires a data type which it will instantiate when the test is executed. Test setup and teardown code can, therefore, be implemented in the data type's constructor and destructor.</p>
<p>For example:</p>
<div class="fragment"><pre class="fragment"> <span class="comment">// Declare fixture type</span>
 <span class="keyword">struct </span>person_t
 {
   std::string name;
   <span class="keywordtype">int</span> age;
   person_t() : name(<span class="stringliteral">&quot;unknown&quot;</span>), age(25) {} <span class="comment">// setup</span>
   ~person_t() {} <span class="comment">// teardown</span>
 };

 <span class="comment">// Create test fixture</span>
 <a class="code" href="macros_8hpp.html#ae7e92c7720beab5175671547f82cf95e" title="Creates a test with custom data and setup/teardown functionality.">TDOG_TEST_FIXTURE</a>(test_person, person_t)
 {
   <a class="code" href="macros_8hpp.html#a0f4f146cbc6cc72c3d94e15971715861" title="Asserts that strings &amp;quot;a&amp;quot; and &amp;quot;b&amp;quot; are equal (the test fails if...">TDOG_ASSERT_STR_EQUAL_MSG</a>(<span class="stringliteral">&quot;unknown&quot;</span>, name, <span class="stringliteral">&quot;Person name test&quot;</span>);
   <a class="code" href="macros_8hpp.html#afd9e18595762c4ab3a067eb7936e5599" title="Asserts that &amp;quot;a&amp;quot; equals &amp;quot;b&amp;quot; (the test fails if they are not)...">TDOG_ASSERT_EQUAL_MSG</a>(25, age, <span class="stringliteral">&quot;Default age&quot;</span>);
 }
</pre></div><p>Note, in the example, how the fixture's data members are accessible in the test implementation. Also note that the fixture's constructor will be called when the test starts, and it's destructor called when the test ends.</p>
<p>In the event that either the constructor or destructor throw an exception, an error condition will be recorded and the test case will be deemed to have failed.</p>
<h3><a class="anchor" id="tdog_suites">
Test Suites</a></h3>
<p>A test suite allows test cases to be run or disabled in groups. The suite name will be used directly as a C++ namespace around test cases, so it should not contain spaces or conflict with existing namespaces. Declaring tests within namespaced suites also allows the same test name to be used in multiple contexts.</p>
<p>In the following example, two test cases are defined inside a test suite:</p>
<div class="fragment"><pre class="fragment"> <a class="code" href="macros_8hpp.html#a5215e6107e191764ad9a0434de6b083d" title="Allows test cases to be grouped into &amp;quot;suites&amp;quot;.">TDOG_TEST_SUITE</a>(beast_suite)
 {
   <a class="code" href="macros_8hpp.html#afd6b256b805eab47d1031b32290cfd62" title="Creates a test case and registers it with a global instance of of the TEST-DOG test...">TDOG_TEST_CASE</a>(number_test)
   {
     <span class="keywordtype">int</span> num_beast = 665;
     <a class="code" href="macros_8hpp.html#a76528911b36b3dcfe56cc544354cc342" title="Asserts that &amp;quot;a&amp;quot; equals &amp;quot;b&amp;quot; (the test fails if they are not)...">TDOG_ASSERT_EQUAL</a>(666, ++num_beast); <span class="comment">// Passes</span>
   }

   <a class="code" href="macros_8hpp.html#afd6b256b805eab47d1031b32290cfd62" title="Creates a test case and registers it with a global instance of of the TEST-DOG test...">TDOG_TEST_CASE</a>(string_test)
   {
     std::string neighbor_of_beast = <span class="stringliteral">&quot;668&quot;</span>;
     <a class="code" href="macros_8hpp.html#aae4589a299eb01bdc63f0ba69f62bd40" title="Asserts that strings &amp;quot;a&amp;quot; and &amp;quot;b&amp;quot; are equal (the test fails if...">TDOG_ASSERT_STR_EQUAL</a>(<span class="stringliteral">&quot;668&quot;</span>, neighbor_of_beast); <span class="comment">// Passes</span>
   }
 }
</pre></div><p>When accessing test cases with the <a class="el" href="classtestdog_1_1runner.html" title="The runner class is used to run test cases and collate result information.">testdog::runner</a> class, test cases belonging to suites should always be referred to using the suite name as a prefix.</p>
<p>For example:</p>
<div class="fragment"><pre class="fragment"> <span class="comment">// Disable running of suite</span>
 <span class="keywordtype">bool</span> exists = <a class="code" href="classtestdog_1_1runner.html#a762a131e95e5cc4b0286e8f1d694c764" title="Singleton access.">testdog::runner::global</a>().<a class="code" href="classtestdog_1_1runner.html#a2493542b939c834568b7b3221ad2bc3e" title="Returns whether the test case with the given name exists.">test_exists</a>(<span class="stringliteral">&quot;beast_suite::number_test&quot;</span>);
</pre></div><p><br/>
 </p>
<h2><a class="anchor" id="tdog_info">
FURTHER INFORMATION</a></h2>
<h3><a class="anchor" id="tdog_project_info">
Associating Project Information</a></h3>
<p>A project name and version string can be associated with the tests using:</p>
<div class="fragment"><pre class="fragment"> <a class="code" href="classtestdog_1_1runner.html" title="The runner class is used to run test cases and collate result information.">testdog::runner</a>().global().set_project_name(<span class="stringliteral">&quot;smppd&quot;</span>);
 <a class="code" href="classtestdog_1_1runner.html" title="The runner class is used to run test cases and collate result information.">testdog::runner</a>().global().set_project_version(<span class="stringliteral">&quot;5.2.3&quot;</span>);
</pre></div><p>This information will be displayed in test reports provided it is set before running the tests.</p>
<p>Additionally, an author name can be associated with each test. In this case, this must be set within the test implementation itself, as follows:</p>
<div class="fragment"><pre class="fragment"> <a class="code" href="macros_8hpp.html#afd6b256b805eab47d1031b32290cfd62" title="Creates a test case and registers it with a global instance of of the TEST-DOG test...">TDOG_TEST_CASE</a>(some_test)
 {
   <a class="code" href="macros_8hpp.html#a6153930658d7f1d23765f02203aea2a1" title="Allows an author name to be associated with the test case.">TDOG_SET_AUTHOR</a>(<span class="stringliteral">&quot;Employee 24601&quot;</span>);
   ...
 }
</pre></div><p>The underlying input type is std::string.</p>
<h3><a class="anchor" id="tdog_selecting_tests">
Selecting which Tests to Run</a></h3>
<p>The run() method of the runner class can be used to selectively run tests individually, or a suite of tests, as follows:</p>
<div class="fragment"><pre class="fragment"> <span class="comment">// Run a single test</span>
 <a class="code" href="classtestdog_1_1runner.html#a762a131e95e5cc4b0286e8f1d694c764" title="Singleton access.">testdog::runner::global</a>().<a class="code" href="classtestdog_1_1runner.html#a478af5df16e3f1653b0ba7197a99c201" title="Run all tests, or just those specified.">run</a>(<a class="code" href="namespacetestdog.html#a1b3bbfd744d9588d962e66a81b437850a0580519de5ddb868cdd44d4d907b58e1" title="Run only the specified test case.">RUN_TEST</a>, <span class="stringliteral">&quot;SUITE_NAME::TEST_NAME&quot;</span>);
</pre></div><p>or...</p>
<div class="fragment"><pre class="fragment"> <span class="comment">// Run a suite</span>
 <a class="code" href="classtestdog_1_1runner.html#a762a131e95e5cc4b0286e8f1d694c764" title="Singleton access.">testdog::runner::global</a>().<a class="code" href="classtestdog_1_1runner.html#a478af5df16e3f1653b0ba7197a99c201" title="Run all tests, or just those specified.">run</a>(<a class="code" href="namespacetestdog.html#a1b3bbfd744d9588d962e66a81b437850a9f108da0ccbe071ff27824507eada2a0" title="Run only the specified test suite.">RUN_SUITE</a>, <span class="stringliteral">&quot;SUITE_NAME&quot;</span>);
</pre></div><p>See the <a class="el" href="classtestdog_1_1runner.html#a478af5df16e3f1653b0ba7197a99c201" title="Run all tests, or just those specified.">runner::run()</a> for more information.</p>
<p>In addition, it is also possible to selectively disable tests (or suites) in the runner.</p>
<p>For example:</p>
<div class="fragment"><pre class="fragment"> <a class="code" href="classtestdog_1_1runner.html#a762a131e95e5cc4b0286e8f1d694c764" title="Singleton access.">testdog::runner::global</a>().<a class="code" href="classtestdog_1_1runner.html#a85470b5c46b194ea9ede620524aee016" title="Allows an individual test case with the given name to be disabled (or re-enabled)...">set_test_enabled</a>(<span class="stringliteral">&quot;SUITE_NAME::TEST_NAME&quot;</span>, <span class="keyword">false</span>);
</pre></div><p>In these examples, the fully qualified test names were supplied as strings. You should also note that test names are case sensitive.</p>
<h3><a class="anchor" id="tdog_test_states">
Test States</a></h3>
<p>The current state of a test case registered with the runner can be queried by calling:</p>
<div class="fragment"><pre class="fragment"> <a class="code" href="namespacetestdog.html#a8131eb3661b4629275a1c521736d04ec" title="An enumerated type used to provide the a test case result.">test_result_t</a> rslt = <a class="code" href="classtestdog_1_1runner.html#a762a131e95e5cc4b0286e8f1d694c764" title="Singleton access.">testdog::runner::global</a>().<a class="code" href="classtestdog_1_1runner.html#a69947ea64a6d29bbb87fe324d684b43f" title="Returns the state of a given test case.">test_result</a>(<span class="stringliteral">&quot;SUITE_NAME::TEST_NAME&quot;</span>);
</pre></div><p>This result will be one of the following values:</p>
<ul>
<li>TR_NOT_RUN - Test was not run.</li>
<li>TR_PASSED - All test conditions passed OK.</li>
<li>TR_FAILED - One or more test conditions failed.</li>
<li>TR_TEST_ERROR - The test failed because of a possible implementation error.</li>
</ul>
<p>If the test case is not part of a suite, just the test name should be used (i.e. no suite prefix).</p>
<h3><a class="anchor" id="Generating">
Additional Reports</a></h3>
<p>By default, when tests in the runner are executed, the runner progressively outputs a report to STDOUT. Typically, you would want to use the text report style for STDOUT.</p>
<p>However, you could if you wish, silence the reporting by setting the report style to RS_NONE using the <a class="el" href="classtestdog_1_1runner.html#a92b452105b1cc264e03eea818ddf958b" title="Set the report style written to STDOUT during the test run.">runner::set_report_style()</a> method.</p>
<p>You may also wish to receive reports in other formats instead. This can achieved by using the generate_report() method after the run has finished.</p>
<p>In this example, we silence STDOUT, and instead write both XML and HTML reports to file:</p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;<a class="code" href="unit__test_8hpp.html" title="This file is a facade header file for the TEST-DOG Unit Testing Framework. Including...">testdog/unit_test.hpp</a>&gt;</span>
 ...

 <span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)
 {
   <span class="comment">// Silence STDOUT report</span>
   testdog::set_report_style(<a class="code" href="namespacetestdog.html#af6baea2ec147ed460a89e0fe7bd07955a43209137fe3fd8440179caa6408da133" title="None (no report is generated).">testdog::RS_NONE</a>);

   <span class="comment">// Run all tests</span>
   <span class="keywordtype">int</span> rslt = <a class="code" href="classtestdog_1_1runner.html#a762a131e95e5cc4b0286e8f1d694c764" title="Singleton access.">testdog::runner::global</a>().<a class="code" href="classtestdog_1_1runner.html#a478af5df16e3f1653b0ba7197a99c201" title="Run all tests, or just those specified.">run</a>();

   <span class="comment">// Generate XML report file</span>
   std::ofstream xml_out;
   file_out.open(<span class="stringliteral">&quot;test_report.xml&quot;</span>);
   testdog::generate_report(xml_out, <a class="code" href="namespacetestdog.html#af6baea2ec147ed460a89e0fe7bd07955a2000753c178dfb2b276377dc2f7d210d" title="XML test report (verbose).">testdog::RS_XML</a>);
   xml_out.close();

   <span class="comment">// Generate HTML report file</span>
   std::ofstream html_out;
   file_out.open(<span class="stringliteral">&quot;test_report.html&quot;</span>);
   testdog::generate_report(html_out, <a class="code" href="namespacetestdog.html#af6baea2ec147ed460a89e0fe7bd07955a2eb037ed861102f43cbda3a0863356ee" title="HTML test report (verbose).">testdog::RS_HTML_VERBOSE</a>);
   html_out.close();

   <span class="keywordflow">return</span> rslt;
 }
</pre></div><p> See <a class="el" href="classtestdog_1_1runner.html#a4ad503fd2a78df4b89f8bd0cc86b2633" title="Generates a test report pertaining to the last test run and writes it to the supplied...">runner::generate_report()</a> for more information.</p>
<h3><a class="anchor" id="tdog_manual_reg">
Manual Test Registration</a></h3>
<p>Normally, test cases automatically register themselves with the global runner instance when they are instantiated.</p>
<p>However, it is possible to disable the automatic registration of test cases by pre-defining the TDOG_DISABLE_AUTO_REG macro. In this case, the register_test() method must be used to add tests to the runner explicitly. In addition, the <a class="el" href="macros_8hpp.html#a89b6085f4be51ee781d31bcdb2fe3f41" title="Allows direct reference to the underlying implementation instance of a test case...">TDOG_TEST_REFINST()</a> macro must be used to reference the underlying test case implementation instance, as follows:</p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #define TDOG_DISABLE_AUTO_REG</span>
<span class="preprocessor"></span><span class="preprocessor"> #include &lt;<a class="code" href="unit__test_8hpp.html" title="This file is a facade header file for the TEST-DOG Unit Testing Framework. Including...">testdog/unit_test.hpp</a>&gt;</span>

 <span class="comment">// Define test</span>
 <a class="code" href="macros_8hpp.html#afd6b256b805eab47d1031b32290cfd62" title="Creates a test case and registers it with a global instance of of the TEST-DOG test...">TDOG_TEST_CASE</a>(some_test)
 {
   ...
 }

 <span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)
 {
   <span class="comment">// Explicitly register the test</span>
   <a class="code" href="classtestdog_1_1runner.html#a762a131e95e5cc4b0286e8f1d694c764" title="Singleton access.">testdog::runner::global</a>().<a class="code" href="classtestdog_1_1runner.html#aece7e39e48857e2973e9878044df5943" title="Explicitly registers a test case instance with the runner.">register_test</a>(<a class="code" href="macros_8hpp.html#a89b6085f4be51ee781d31bcdb2fe3f41" title="Allows direct reference to the underlying implementation instance of a test case...">TDOG_TEST_REFINST</a>(some_test));
   ...
 }
</pre></div><p>If the test case belongs within a test suite, you should use the the suite name as a namespaced prefix. For example:</p>
<div class="fragment"><pre class="fragment"> <a class="code" href="classtestdog_1_1runner.html#a762a131e95e5cc4b0286e8f1d694c764" title="Singleton access.">testdog::runner::global</a>().<a class="code" href="classtestdog_1_1runner.html#aece7e39e48857e2973e9878044df5943" title="Explicitly registers a test case instance with the runner.">register_test</a>(<a class="code" href="macros_8hpp.html#a89b6085f4be51ee781d31bcdb2fe3f41" title="Allows direct reference to the underlying implementation instance of a test case...">TDOG_TEST_REFINST</a>(suite_name::some_test));
</pre></div> </div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address style="text-align: right;"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
