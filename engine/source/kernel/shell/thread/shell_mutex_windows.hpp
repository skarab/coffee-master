//------------------------------------------------------------------------------------------------//
/// @file kernel/shell/thread/shell_mutex_windows.hpp
//------------------------------------------------------------------------------------------------//
#ifdef COFFEE_OS_WINDOWS

//-INCLUDES---------------------------------------------------------------------------------------//
#include "kernel/shell/thread/shell_mutex.h"
#include "process.h"
//------------------------------------------------------------------------------------------------//

namespace coffee
{
namespace shell
{
    //-OPERATIONS---------------------------------------------------------------------------------//

    void Mutex::_PlatformCreate()
    {
        InitializeCriticalSection(&_CriticalSection);
    }

    //--------------------------------------------------------------------------------------------//

    void Mutex::_PlatformDestroy()
    {
        DeleteCriticalSection(&_CriticalSection);
    }

    //--------------------------------------------------------------------------------------------//

    void Mutex::_PlatformLock()
    {
        EnterCriticalSection(&_CriticalSection);
    }

    //--------------------------------------------------------------------------------------------//

    void Mutex::_PlatformUnlock()
    {
        LeaveCriticalSection(&_CriticalSection);
    }

}
}
#endif
//------------------------------------------------------------------------------------------------//
